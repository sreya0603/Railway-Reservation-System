# Project Description

The goal is to develop a railway reservation system. For this project, you are expected to develop code for the back-end
(Database part + code in high-level language e.g., Java for accessing the database) of the system. Given that this course
focuses on topics related to database systems, we would expect a more thorough effort on the database part (schema,
stored procedures, and triggers) of the project. The following concepts need to be incorporated into the system. For the purpose
of this course project, you build this application as a multi-user system. In other words, simultaneous access to the
booking function by two or more agents is very much possible. Also, assume that each ticket is booked for the entire
journey of the train. In other words, for this part of the course project, there is no need to store the station information of
trains. Furthermore, assume that all trains run on all days.

# Regarding Trains:
1. A train is identified by a unique train number.
2. A train has a few AC coaches and several Sleeper class coaches.
3. Different trains have different numbers of AC and Sleeper coaches.
4. Even for the same train, the number of AC Coaches and Sleeper coaches can be different across different dates.
5. The Admin decides the number of AC coaches and Sleeper coaches in a train for a specific date. After these are
decided, the train is released (for that date) into the “booking system” for ticket booking.
6. The number of berths and type of berths (lower, middle, upper, etc) are fixed in an AC coach and a Sleeper coach.
Refer to Appendix A for details on number berth numbers (and their types) in AC and Sleeper coaches.

# Railway Ticket Reservation:
1. A ticket makes a booking for its passengers on a particular train number for a particular date. Railway ticket
booking is allowed only if the particular train of interest is released into the “booking system” for the date of
interest by the Admin.
2. A ticket has a unique number called its PNR number.
3. Assume that each ticket books berth(s) for the entire journey of the train.
4. A single ticket can have multiple passengers. Each passenger is associated with Name, Age, and Gender
attributes. In a ticket, each of the passengers is assigned a berth. Also, the ticket would mention if it is a
lower-berth, upper-berth, or middle berth.
5. The booking function takes the following input: (a) number of passengers; (b) name of all passengers; (c) train
number; (d) date of journey; (e) choice of AC coach or Sleeper (this choice is the same for all passengers). The
ticket is booked only if all passengers are able to get a reservation on their choice of date, otherwise, an error is
thrown.
6. The journey ticket consists of the following: (a) PNR (auto-generated by application) (b) name all of the
passengers, (c) Coach number, berth number, and type (Lower, Middle, Upper, etc) of each passenger; (d) train
number and (e) date of journey.

7. Implement a search procedure for searching trains between any two stations. Note that this part is completely independent
(from the perspective of evaluation) of the specifications mentioned in the previous section. In other words, teams of
size-3 need not worry about station names in the ticket booking part. The following things need to be considered for
implementing the search procedure.

● You would have to store the stations (and their corresponding arrival and departure times) as served by a train in
your database. Also, you would have to store the order of stations seen by the train on its route.

● You can assume that at-most one break is needed to reach from anywhere to anywhere. If no path is found, then
your application should return “journey plan is not possible.”

● While recommending connections, you need to check the compatibility of the arrival and departure times of the
trains involved in the connection.

# Key Aspects:

● Your schema should have the least possible redundancy of data and attributes must be stored in appropriate
entities. You must clearly state any assumptions made while designing the schema. Reasonable ones would be
accepted and graded.

● Evaluation would be based on throughput. During the evaluation, we would give you a series of ticket booking
requests (around 1000--2000). You are required to process these requests in a concurrent fashion (using
multi-threading libraries available in JAVA, Python, etc.) on a system containing 50 cores (or more). The TAs
would note the total time spent in processing these requests.

● Your application should have relevant stored procedures and triggers to maintain/implement the required business
logic constraints. For example, there should be appropriate stored procedures for releasing a train into the booking
system (for a particular date), booking a ticket, etc. Checks should be made such that booking is not done before
the train is released into the “booking system.” Checks should be made to ensure that different tickets do not book
the same berth on the same train on the same journey date. Similarly, your system should not book more tickets
than the number of seats available in a coach (and train) for the particular choice of journey date.



# How to run
1. first run admin.java for releasing the trains by admin
2. copy the code into the SQL project and load it into the database(Postgres)
3. change the username, port, and username of the database in SQL java connection accordingly in servicemodule.java and admin.java files
4. then compile ServiceModule.java and run ServiceModule.java
5. similarly compile and run client.java.
6. you will get output in the output file.
